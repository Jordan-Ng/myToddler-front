(this.webpackJsonpmytoddler=this.webpackJsonpmytoddler||[]).push([[0],{109:function(e,t,c){},182:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c(1),i=c(17),r=c.n(i),s=(c(109),c(10)),d=c(52),l=c(53),o=c(54),j=c(55),h=c(11),u=function(){var e=Object(h.b)(),t=e.logout,c=e.user,i=Object(a.useState)(!1),r=Object(s.a)(i,2);r[0],r[1];return Object(n.jsx)("div",{children:Object(n.jsxs)(d.a,{color:"primary",light:!0,expand:"md",children:[Object(n.jsx)(l.a,{className:"text-white",href:"/",children:"myToddler"}),Object(n.jsx)(o.a,{className:"mr-auto",navbar:!0}),Object(n.jsx)(j.a,{className:"text-white",style:{marginRight:"1vw"},children:c.nickname}),Object(n.jsx)(j.a,{className:"text-white",onClick:function(){return t({returnTo:window.location.origin})},style:{borderLeft:"1px solid white",paddingTop:"0px",paddingBottom:"0px",paddingLeft:"1vw"},children:"logout"})]})})},b=c(15),O=c(57),x=c(58),p=c(59),v=c(60),m=c(30),g=function(){var e=Object(h.b)(),t=e.loginWithRedirect,c=e.isLoading,i=e.isAuthenticated,r=e.user,s=Object(b.e)();return Object(a.useEffect)((function(){i&&"Parent"==r["https://example.com/roles"][0].name?s.push("/user/dashboard"):i&&"Teacher"==r["https://example.com/roles"][0].name&&s.push("teacher/dashboard")}),[i]),Object(n.jsx)(n.Fragment,{children:c?Object(n.jsx)("div",{style:{width:"100vw",height:"100vh",paddingLeft:"50vw",paddingTop:"50vh"},children:Object(n.jsx)(O.a,{color:"light"})}):Object(n.jsx)("div",{style:{paddingLeft:"10vw",paddingRight:"10vw",paddingTop:"25vh",paddingBottom:"25vh"},children:Object(n.jsxs)(x.a,{style:{width:"80vw"},children:[Object(n.jsx)(p.a,{tag:"p",style:{textAlign:"center"},children:"MyToddler"}),Object(n.jsx)(v.a,{children:Object(n.jsx)(m.a,{color:"primary",style:{width:"100%"},onClick:function(){t()},children:"Login"})})]})})})},f=c(16),T=c.n(f),_=c(24),y=c(26),S=c(103),A=c(79),w=c(96),C=c(75),E=c(76),P=c(78),R=c(80),I=c(82),k=c(81),N=c(77),D=c(28),F=c(25),H=c.n(F),L=function(e){var t=e.institutions,c=(e.setInstitutions,Object(a.useState)(!1)),i=Object(s.a)(c,2),r=i[0],d=i[1],l=Object(a.useState)(""),o=Object(s.a)(l,2),j=o[0],u=o[1],b=Object(a.useState)(""),O=Object(s.a)(b,2),x=O[0],p=O[1],v=Object(a.useState)(""),g=Object(s.a)(v,2),f=g[0],F=g[1],L=Object(a.useState)(""),B=Object(s.a)(L,2),U=B[0],K=B[1],W=Object(a.useState)(""),Y=Object(s.a)(W,2),q=Y[0],M=Y[1],z=Object(a.useState)(""),V=Object(s.a)(z,2),G=V[0],J=V[1],Q=Object(a.useState)(""),X=Object(s.a)(Q,2),Z=X[0],$=X[1],ee=Object(h.b)(),te=ee.user,ce=ee.isAuthenticated,ne=ee.getAccessTokenSilently,ae=[u,p,F,$,K,M,J],ie=(Object(S.a)(t),function(e){e.preventDefault(),console.log(t);for(var c=0;c<ae.length;c++)ae[c]("");d(!r)}),re=function(){for(var e=0;e<ae.length;e++)ae[e]("");d(!r)},se=function(e,t){t(e.target.value)},de=function(){var e=Object(_.a)(T.a.mark((function e(t){var c,n,a,i,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c=[j,x,f,Z,U],!(j&&x&&f&&Z&&U)){e.next=12;break}for(n=[],a=0;a<c.length;a++)""!==c[a]&&null!==c[a]?n.push(!0):n.push(!1);if(n.includes(!1)){e.next=10;break}return e.next=8,ne();case 8:i=e.sent,H()({method:"post",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_DOMAIN:"dev-vryuom7u.us.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"Bj3RO9KIwqrhATYIS9mYSHBlOqP0E2Nl",REACT_APP_API_URL:"http://13.212.76.67:5000/api"}).REACT_APP_TEST_API,"/child/new"),headers:{Authorization:"Bearer ".concat(i),Roles:te["https://example.com/roles"][0].name},data:{fname:j,lname:x,dob:f,gender:U,institution:Z,diet_restrictions:q,remark:G}}).then((function(e){Object(D.a)(e.data.message),re(),setTimeout((function(){window.location.reload()}),1e3)})).catch((function(e){return console.log(e)}));case 10:e.next=14;break;case 12:for(r=0;r<c.length;r++)""==c[r]&&ae[r](null);console.log("fields missing");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(e){return""==e?Object(n.jsx)(A.a,{}):null===e?Object(n.jsx)(A.a,{invalid:!0,children:"Field cannot be empty"}):""!==e&&null!==e?Object(n.jsx)(A.a,{valid:!0}):void 0},oe=function(e){return""==e?{valid:!1}:null===e?{invalid:!0}:""!==e&&null!==e?{valid:!0}:void 0};return Object(n.jsx)(n.Fragment,{children:ce?Object(n.jsxs)("div",{children:[Object(n.jsx)(m.a,{style:{width:"100%"},outline:!0,color:"secondary",onClick:ie,children:" + Add myToddler"}),Object(n.jsxs)(w.a,{isOpen:r,toggle:ie,style:{paddingTop:"20vw"},children:[Object(n.jsx)(C.a,{toggle:ie,children:"myToddler's info"}),Object(n.jsx)(E.a,{children:Object(n.jsxs)(P.a,{children:[Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsxs)(R.a,{style:{paddingRight:"1vw"},onChange:function(e){return se(e,u)},children:[Object(n.jsx)(I.a,{children:"First Name"}),Object(n.jsx)(k.a,Object(y.a)({className:"formInput"},oe(j))),le(j)]}),Object(n.jsxs)(R.a,{onChange:function(e){return se(e,p)},children:[Object(n.jsx)(I.a,{children:"Last Name"}),Object(n.jsx)(k.a,Object(y.a)({className:"formInput"},oe(x))),le(x)]})]}),Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsxs)(R.a,{style:{width:"30%",paddingRight:"1vw"},children:[Object(n.jsx)(I.a,{for:"exampleSelect",children:"Gender"}),Object(n.jsxs)(k.a,Object(y.a)(Object(y.a)({type:"select",name:"select",id:"exampleSelect",onChange:function(e){return se(e,K)}},oe(U)),{},{children:[Object(n.jsx)("option",{value:"",children:"-Pick-"}),Object(n.jsx)("option",{value:"M",children:"M"}),Object(n.jsx)("option",{value:"F",children:"F"})]}))]}),Object(n.jsxs)(R.a,{children:[Object(n.jsx)(I.a,{for:"exampleDate",children:"Date of Birth"}),Object(n.jsx)(k.a,Object(y.a)({type:"date",name:"date",id:"exampleDate",placeholder:"date placeholder",onChange:function(e){return se(e,F)}},oe(f)))]})]}),Object(n.jsxs)(R.a,{style:{width:"100%"},children:[Object(n.jsx)(I.a,{children:"Childcare Institution"}),Object(n.jsxs)(k.a,Object(y.a)(Object(y.a)({type:"select",name:"select",id:"exampleSelectInst",onChange:function(e){return se(e,$)}},oe(Z)),{},{children:[Object(n.jsx)("option",{value:"",children:"-- None Selected --"}),t.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))]}))]}),Object(n.jsxs)(R.a,{onChange:function(e){return se(e,M)},children:[Object(n.jsx)(I.a,{children:"Dietary Restrictions"}),Object(n.jsx)(k.a,{className:"formInput"})]}),Object(n.jsxs)(R.a,{onChange:function(e){return se(e,J)},children:[Object(n.jsx)(I.a,{children:"Remarks"}),Object(n.jsx)(k.a,{type:"textarea",className:"formInput"})]})]})}),Object(n.jsxs)(N.a,{children:[Object(n.jsx)(m.a,{style:{width:"100%"},color:"primary",onClick:de,children:"Submit"})," "]})]})]}):""})},B=c(100),U=c.n(B),K=c(31),W=c(73),Y=c(72),q=c(38),M=c(39),z=c(36),V=function(e){var t=e.childrenInfo,c=Object(a.useState)(0),i=Object(s.a)(c,2),r=i[0],d=i[1],l=Object(a.useState)(!1),o=Object(s.a)(l,2),j=o[0],h=o[1],u=t,b=function(){if(!j){var e=r===u.length-1?0:r+1;d(e)}},O=function(){if(!j){var e=0===r?u.length-1:r-1;d(e)}},p=function(e){j||d(e)},v=u.map((function(e){return Object(n.jsx)(K.a,{className:"custom-tag",onExiting:function(){return h(!0)},onExited:function(){return h(!1)},tag:"div",children:Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"50vh",paddingTop:"2vh"},children:Object(n.jsx)(U.a,{value:e.uuid4,size:150})})},e.fname)})),m=u.map((function(e){return Object(n.jsx)(K.a,{className:"custom-card",onExiting:function(){return h(!0)},onExited:function(){return h(!1)},tag:"div",children:Object(n.jsxs)(x.a,{body:!0,outline:!0,color:"primary",children:[Object(n.jsxs)(W.a,{children:[e.fname,", ",e.lname," (",e.dob,") - ",e.institution]}),Object(n.jsx)(Y.a,{children:e.gender}),Object(n.jsx)(Y.a,{children:e.diet_restrictions}),Object(n.jsx)(Y.a,{children:e.remarks})]})},e.fname)}));return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{style:{borderRadius:"10px",marginTop:"1vh",marginLeft:"2.5vw",marginRight:"2.5vw"},children:[Object(n.jsx)("style",{children:".custom-tag {\n              max-width: 100%;\n              height: 30vh;\n              background: lightBlue;\n            }\n            .custom-card {\n                height: 100%\n            }\n            "}),Object(n.jsxs)(q.a,{activeIndex:r,next:b,previous:O,interval:!1,children:[Object(n.jsx)(M.a,{items:u,activeIndex:r,onClickHandler:p}),v,Object(n.jsx)(z.a,{direction:"prev",directionText:"Previous",onClickHandler:O,cssModule:{color:"primary"}}),Object(n.jsx)(z.a,{direction:"next",directionText:"Next",onClickHandler:b})]})]}),Object(n.jsx)("div",{style:{marginLeft:"2.5vw",marginRight:"2.5vw"},children:Object(n.jsxs)(q.a,{activeIndex:r,next:b,previous:O,interval:!1,children:[Object(n.jsx)(M.a,{items:u,activeIndex:r,onClickHandler:p}),m,Object(n.jsx)(z.a,{direction:"prev",directionText:"Previous",onClickHandler:O,cssModule:{color:"primary"}}),Object(n.jsx)(z.a,{direction:"next",directionText:"Next",onClickHandler:b})]})})]})},G=function(){return Object(n.jsx)("div",{style:{paddingLeft:"2.5vw",paddingRight:"2.5vw",marginTop:"1vh"},children:Object(n.jsx)(x.a,{body:!0,inverse:!0,color:"info",children:Object(n.jsx)(Y.a,{children:"You have not registered any myToddler yet. Please add myToddler"})})})},J=function(){var e=Object(h.b)(),t=e.user,c=e.isAuthenticated,i=e.getAccessTokenSilently,r=Object(a.useState)([]),d=Object(s.a)(r,2),l=d[0],o=d[1],j=Object(a.useState)(!1),x=Object(s.a)(j,2),p=x[0],v=x[1],m=Object(a.useState)([]),g=Object(s.a)(m,2),f=g[0],y=g[1],S=Object(b.e)();return Object(a.useEffect)(Object(_.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!c){e.next=6;break}return e.next=4,i();case 4:n=e.sent,H()({method:"get",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_DOMAIN:"dev-vryuom7u.us.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"Bj3RO9KIwqrhATYIS9mYSHBlOqP0E2Nl",REACT_APP_API_URL:"http://13.212.76.67:5000/api"}).REACT_APP_TEST_API,"/info"),headers:{Authorization:"Bearer ".concat(n),Roles:t["https://example.com/roles"][0].name}}).then((function(e){o(e.data.child_info),y(e.data.institutions),v(!0)})).catch((function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e)}))),[c]),Object(n.jsx)(n.Fragment,{children:c?Object(n.jsxs)("div",{style:{height:"100vh",width:"100vw"},children:[Object(n.jsx)(u,{user:t}),Object(n.jsx)("div",{style:{width:"100vw",paddingLeft:"2.5vw",paddingRight:"2.5vw",marginTop:"1vh"},children:p?Object(n.jsx)(L,{institutions:f,setInstitutions:y}):""}),p?l.length>0?Object(n.jsx)(V,{childrenInfo:l}):Object(n.jsx)(G,{}):Object(n.jsx)("div",{style:{marginTop:"2vh",width:"100vw",display:"flex",justifyContent:"center"},children:Object(n.jsx)(O.a,{color:"primary"})})]}):S.push("/")})},Q=c(101),X=c.n(Q),Z=function(){var e=Object(a.useState)(10),t=Object(s.a)(e,2),c=(t[0],t[1],Object(a.useState)("No result")),i=Object(s.a)(c,2),r=(i[0],i[1]),d=Object(b.e)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center",border:"2px solid red",marginTop:"10vh"},children:Object(n.jsx)(X.a,{delay:300,onError:function(e){console.error(e)},onScan:function(e){"No result"!==e&&null!==e&&(r(e),d.push("/teacher/dash/".concat(e)))},style:{width:"100%"}})})})},$=function(){var e=Object(h.b)(),t=e.user,c=e.isAuthenticated,i=e.getAccessTokenSilently,r=Object(b.e)();return Object(a.useEffect)(Object(_.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=5;break}return e.next=3,i();case 3:n=e.sent,H()({method:"GET",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_DOMAIN:"dev-vryuom7u.us.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"Bj3RO9KIwqrhATYIS9mYSHBlOqP0E2Nl",REACT_APP_API_URL:"http://13.212.76.67:5000/api"}).REACT_APP_TEST_API,"/private"),headers:{Authorization:"Bearer ".concat(n),Roles:t["https://example.com/roles"][0].name}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)}))),[]),Object(n.jsx)(n.Fragment,{children:c?Object(n.jsxs)("div",{children:[Object(n.jsx)(u,{user:t}),Object(n.jsx)(Z,{})]}):r.push("/")})},ee=c(9),te=function(e){var t=e.temp,c=e.remark,i=e.fname,r=e.lname,d=e.guardian,l=e.switchLabel,o=e.guardianId,j=(e.checkIn,e.checkOut,e.inst),u=Object(a.useState)(!1),O=Object(s.a)(u,2),x=O[0],p=O[1],v=Object(h.b)(),g=v.user,f=v.getAccessTokenSilently,y=Object(b.e)(),S=function(){p(!x)},A=function(){var e=Object(_.a)(T.a.mark((function e(n){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,f();case 3:a=e.sent,H()({method:"post",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_DOMAIN:"dev-vryuom7u.us.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"Bj3RO9KIwqrhATYIS9mYSHBlOqP0E2Nl",REACT_APP_API_URL:"http://13.212.76.67:5000/api"}).REACT_APP_TEST_API,"/child/attendance"),headers:{Authorization:"Bearer ".concat(a),Roles:g["https://example.com/roles"][0].name},data:{fname:i,lname:r,guardian:d,guardianId:o,label:l,temperature:t,remark:c,employee:g.sub,institution:j}}).then((function(e){Object(D.a)(e.data.message),e.data.success&&y.push("/teacher/dashboard")})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(m.a,{color:"primary",style:{width:"100%"},onClick:function(){for(var e=[t,i,r],c=[],n=0;n<e.length;n++)""!==e[n]&&null!==e[n]?0==n&&"check-in"===l&&(parseFloat(e[n])<35||parseFloat(e[n])>=37.6)?c.push(!1):c.push(!0):c.push(!1);c.includes(!1)?(console.log(c),Object(D.a)("incomplete/invalid information. Please check again")):p(!x)},children:"Confirm & Review"}),Object(n.jsxs)(w.a,{isOpen:x,toggle:S,style:{marginTop:"20vh"},children:[Object(n.jsx)(C.a,{toggle:S,children:"Confirm Details"}),Object(n.jsxs)(E.a,{children:[Object(n.jsx)("div",{children:"Please Review and Submit:"}),Object(n.jsxs)("div",{children:["Child Name: ",r,",",i]}),Object(n.jsxs)("div",{children:["Temperature: ",t]}),"check-in"===l?Object(n.jsxs)("div",{children:["Checked in with: ",d]}):Object(n.jsx)("div",{children:Object(n.jsxs)("div",{children:["Checking out with: ",d]})}),Object(n.jsxs)("div",{children:["institution: ",j]}),Object(n.jsxs)("div",{children:["employee: ",g.nickname]}),Object(n.jsxs)("div",{children:["remarks: ",c]})]}),Object(n.jsx)(N.a,{children:Object(n.jsx)(m.a,{color:"primary",onClick:A,style:{width:"100%"},children:"Submit"})})]})]})},ce=c(74),ne=c(71),ae=function(){var e,t=Object(h.b)(),c=t.user,i=t.isAuthenticated,r=Object(b.f)(),d=(Object(b.e)(),Object(a.useState)("check-in")),l=Object(s.a)(d,2),o=l[0],j=l[1],O=Object(a.useState)(""),p=Object(s.a)(O,2),m=p[0],g=p[1],f=Object(a.useState)(""),T=Object(s.a)(f,2),_=T[0],S=T[1],w=Object(a.useState)(""),C=Object(s.a)(w,2),E=C[0],N=C[1],D=Object(a.useState)(""),F=Object(s.a)(D,2),H=F[0],L=F[1],B=Object(a.useState)(""),U=Object(s.a)(B,2),K=U[0],Y=U[1],q=Object(a.useState)(""),M=Object(s.a)(q,2),z=M[0],V=M[1],G=Object(a.useState)(""),J=Object(s.a)(G,2),Q=J[0],X=J[1],Z=Object(a.useState)(!1),$=Object(s.a)(Z,2),ae=$[0],ie=$[1];Object(a.useEffect)((function(){try{var e=r.name.split("-");3===e.length&&(g(e[1]),S(e[0]),N(e[2]),Y(r.guardian_id),L(r.inst),ie(!0))}catch(t){ie(!1)}}),[]);var re=function(e,t){t(e.target.value)};return Object(n.jsx)(n.Fragment,{children:i?ae?Object(n.jsxs)("div",{children:[Object(n.jsx)(u,{}),Object(n.jsx)("div",{style:{marginTop:"1vh",paddingLeft:"2.5vw",paddingRight:"2.5vw",height:"auto"},children:Object(n.jsxs)(x.a,{style:{height:"100%"},children:[Object(n.jsxs)(v.a,{children:[Object(n.jsx)(W.a,{tag:"h5",children:"Drop-off/Pickup Form"}),Object(n.jsxs)(P.a,{children:[Object(n.jsx)(R.a,{children:Object(n.jsx)("div",{children:Object(n.jsx)(ce.a,{type:"switch",id:"CustomSwitch",name:"customSwitch",defaultChecked:!0,label:o,onChange:function(e){!0===e.target.checked?j("check-in"):j("check-out")}})})}),Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsxs)(R.a,{style:{paddingRight:"1vw"},children:[Object(n.jsx)(I.a,{children:"First Name"}),Object(n.jsx)(k.a,{placeholder:m,disabled:!0})]}),Object(n.jsxs)(R.a,{children:[Object(n.jsx)(I.a,{children:"Last Name"}),Object(n.jsx)(k.a,{placeholder:_,disabled:!0})]})]}),Object(n.jsxs)(R.a,{children:[Object(n.jsxs)(I.a,{children:[o," with"]}),Object(n.jsx)(k.a,{value:E,placeholder:E,disabled:!0})]}),Object(n.jsxs)(R.a,{children:[Object(n.jsx)(I.a,{children:"Child Care Institution"}),Object(n.jsx)(k.a,{value:H,placeholder:H,disabled:!0})]}),Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsxs)(R.a,{style:{paddingRight:"1vw"},children:[Object(n.jsx)(I.a,{children:"Temperature"}),Object(n.jsx)(k.a,Object(y.a)({type:"number",onChange:function(e){return re(e,V)}},""==z?{valid:!1}:null===z||parseFloat(z)>=37.6||parseFloat(z)<35?{invalid:!0}:""!==z&&null!=z&&parseFloat(z)<37.6&&parseFloat(z)>35?{valid:!0}:void 0)),""==z?Object(n.jsx)(A.a,{}):null===z?Object(n.jsx)(A.a,{invalid:!0,children:"Field cannot be empty"}):"check-in"===o&&(parseFloat(z)<=35.5||parseFloat(z)>=37.6)?Object(n.jsx)(A.a,{invalid:!0,children:"Temp too high/low"}):""!==z&&null!==z?Object(n.jsx)(A.a,{valid:!0}):void 0]}),Object(n.jsxs)(R.a,{children:[Object(n.jsx)(I.a,{children:"Childcare Employee"}),Object(n.jsx)(k.a,{placeholder:c.nickname,disabled:!0})]})]}),Object(n.jsxs)(R.a,{children:[Object(n.jsx)(I.a,{children:"Remarks from Observation"}),Object(n.jsx)(k.a,{type:"textarea",onChange:function(e){return re(e,X)}})]})]})]}),Object(n.jsx)(ne.a,{children:Object(n.jsx)(te,(e={guardianId:K,remark:Q,temp:z,guardian:E,fname:m,lname:_,switchLabel:o},Object(ee.a)(e,"guardian",E),Object(ee.a)(e,"guardianId",K),Object(ee.a)(e,"user",c),Object(ee.a)(e,"inst",H),e))})]})})]}):"not a valid QR code":"not authorized"})},ie=function(){var e=Object(h.b)(),t=(e.user,e.isAuthenticated);return Object(n.jsx)(n.Fragment,{children:t?Object(n.jsx)("div",{children:Object(n.jsx)(ae,{})}):""})},re=function(){var e=Object(h.b)(),t=e.isAuthenticated,c=e.getAccessTokenSilently,i=(e.user,Object(b.f)()),r=Object(b.e)();return Object(a.useEffect)(Object(_.a)(T.a.mark((function e(){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,c();case 3:n=e.sent,H()({method:"GET",headers:{Authorization:"Bearer ".concat(n)},url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH0_DOMAIN:"dev-vryuom7u.us.auth0.com",REACT_APP_AUTH0_CLIENT_ID:"Bj3RO9KIwqrhATYIS9mYSHBlOqP0E2Nl",REACT_APP_API_URL:"http://13.212.76.67:5000/api"}).REACT_APP_TEST_API,"/child/verify/").concat(i.uuid4)}).then((function(e){e.data.valid?r.push("/teacher/attendance/".concat(i.uuid4,"/").concat(e.data.institution,"/").concat(e.data.params,"/").concat(e.data.guardian_id)):r.push("/teacher/dashboard")})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)}))),[t]),Object(n.jsx)(n.Fragment,{children:t?Object(n.jsxs)("div",{style:{height:"100vh",width:"100vw",background:"lightBlue",paddingTop:"20vh"},children:[Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100vw"},children:Object(n.jsx)(O.a,{color:"light",type:"grow"})}),Object(n.jsx)("div",{style:{display:"flex",width:"100vw",justifyContent:"center"},children:Object(n.jsx)("p",{style:{color:"dimGray"},children:"Hang tight, verifying QR code ..."})})]}):r.push("/")})},se=function(){var e=Object(h.b)().logout;return Object(n.jsx)("div",{style:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center"},children:Object(n.jsx)(m.a,{onClick:function(){return e({returnTo:window.location.origin})},children:"Logout"})})};D.a.configure();var de=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),c=(t[0],t[1],Object(h.b)());return c.user,c.isAuthenticated,Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(b.a,{exact:!0,path:"/",children:Object(n.jsx)("div",{style:{height:"100vh",width:"100vw",background:"lightBlue"},children:Object(n.jsx)(g,{})})}),Object(n.jsx)(b.a,{exact:!0,path:"/user/dashboard",children:Object(n.jsx)(J,{})}),Object(n.jsx)(b.a,{exact:!0,path:"/teacher/dashboard",children:Object(n.jsx)($,{})}),Object(n.jsx)(b.a,{path:"/teacher/attendance/:uuid4/:inst/:name/:guardian_id",children:Object(n.jsx)(ie,{})}),Object(n.jsx)(b.a,{path:"/teacher/dash/:uuid4",children:Object(n.jsx)(re,{})}),Object(n.jsx)(b.a,{exact:!0,path:"/logout",children:Object(n.jsx)(se,{})})]})},le=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,186)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))},oe=(c(180),c(181),c(23));r.a.render(Object(n.jsx)(h.a,{domain:"dev-vryuom7u.us.auth0.com",clientId:"Bj3RO9KIwqrhATYIS9mYSHBlOqP0E2Nl",audience:"http://13.212.76.67:5000/api",redirectUri:window.location.origin,children:Object(n.jsx)(oe.a,{children:Object(n.jsx)(de,{})})}),document.getElementById("root")),le()}},[[182,1,2]]]);
//# sourceMappingURL=main.d50dab39.chunk.js.map